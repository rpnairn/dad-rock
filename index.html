<!DOCTYPE html>
<html lang="en">
<head>
   <meta charset="UTF-8">
   <meta name="viewport" content="width=device-width, initial-scale=1.0">
   <title>Dad Rock</title>
   <link rel="stylesheet" href="styles.css">
   <link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap" rel="stylesheet">
</head>
<body>
   <a href="index.html">
       <img src="IMG/pixilart-drawing.png" alt="Logo" class="logo">
   </a>

   <header>
       <h1>Dad Rock</h1>
       <nav>
           <ul>
               <li><a href="index.html">Home</a></li>
               <li><a href="timeline.html">Timeline</a></li>
           </ul>
       </nav>
   </header>

   <main id="home">
       <section class="ipod-container">
           <div class="ipod">
               <div class="screen" id="screen"><p>Select an album</p></div>
               <div class="scroll-wheel"></div>
           </div>

           <div class="albums">
               
            <div class="album" onclick="playSong('Today - Smashing Pumpkins', 'music/today.mp3')">
                   <div class="album-box">
                       <img src="IMG/spalbum.png" alt="Album 1" class="album-image">
                   </div>
                   <div class="album-text">Today</div>
                   <div class="album-text">Smashing Pumpkins</div>
               </div>

               <div class="album" onclick="playSong('Nutshell - Alice in Chains', 'music/nutshell.mp3')">
                   <div class="album-box">
                       <img src="IMG/nutshell.png" alt="Album 2" class="album-image">
                   </div>
                   <div class="album-text">Nutshell</div>
                   <div class="album-text">Alice in Chains</div>
               </div>

               <div class="album" onclick="playSong('Basket Case - Green Day', 'music/basketcase.mp3')">
                   <div class="album-box">
                       <img src="IMG/greenday.png" alt="Album 3" class="album-image">
                   </div>
                   <div class="album-text">Basket Case</div>
                   <div class="album-text">Green Day</div>
               </div>
           </div>
       </section>
   </main>

   <footer>
       <p> By Raymond Nairn</p>
   </footer>

   <!-- Begin ChatGPT audio play assist -->

   <audio id="audio-player" controls style="display: none;" loop>
    <source id="audio-source" src="music/today.mp3" type="audio/mp3">
   </audio>

<script>
    function playSong(title, songSrc) {
        var audio = document.getElementById('audio-player');
        var source = document.getElementById('audio-source');
        source.src = songSrc;
        audio.load();
        audio.play();
        document.getElementById('screen').innerHTML = '<p>' + title + '</p>';

        localStorage.setItem('currentSong', songSrc);
        localStorage.setItem('currentSongTitle', title);
        localStorage.setItem('isPlaying', 'true');
    }

    if (window.location.pathname === "/index.html") {
        window.onload = function() {
            var currentSong = localStorage.getItem('currentSong');
            var currentSongTitle = localStorage.getItem('currentSongTitle');
            var isPlaying = localStorage.getItem('isPlaying');

            if (currentSong && isPlaying === 'true') {
                var audio = document.getElementById('audio-player');
                var source = document.getElementById('audio-source');

                source.src = currentSong;
                audio.load();
                audio.play();

                document.getElementById('screen').innerHTML = '<p>' + currentSongTitle + '</p>';
            }
        };
    }
</script>

<!-- End ChatGPT audio play assist -->

</body>
</html>
